<!DOCTYPE html>
<html lang="en">
<head>
    <title>Project 1: Cholera</title>
    <script src="plotly-latest.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

</head>
<body>
<style>
    .scrolling-wrapper {
        /*overflow-x: scroll;*/
        /*overflow-y: hidden;*/
        /*white-space: nowrap;*/
    }
    #graphs {
        /*display: inline-block;*/
        align-content: center;
        width: 1920px;
        height: 1080px;
    }
    h1 {text-align:center;}
    p {text-align:center;}
</style>

&nbsp;
<h1>Cholera Data from the United Kingdom (1851)</h1>

<!-- Navbar -->
<style>
    .tooltip-arrow,
    .white-tooltip + .tooltip > .tooltip-inner {background-color: white;}
</style>

<div align="center">
    <button style="background-color: white; color: black;" type="button" class="btn btn-secondary white-tooltip" data-toggle="tooltip" data-placement="bottom" title="Graphs created by Angela Zheng, with data taken from INSERT SOURCE and visualized using Javascript & Leaflet.js">
        Hover Over Me!
    </button>
</div>
<!-- Navbar -->
&nbsp;


<div class="scrolling-wrapper">
    <div id="graphs">
        <div id="graph01"></div>
        <span id="graph02"></span>
        <div id="graph03"></div>
        <span id="graph04"></span>
        <span id="graph05"></span>
        <span id="graph06"></span>
        <div id="graph07"></div>
        <div id="graph08"></div>
        <div id="graph09"></div>
        <div id="graph10"></div>
        <div id="graph11"></div>
        <div id="graph12"></div>
    </div>
</div>
</body>

<!-- Chart 01 -->
<script>

    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/cholera/master/Cholera/choleraDeaths.csv?token=Acozul-aF5x8qVd3mr8r4SN9lLz7Wgonks5bqVr8wA%3D%3D", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]) + parseInt(cellVals[2][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);
        headerVals[headerRow.length] = "Total";

        var data = [{
            type: 'table',
            columnwidth: [80,80,80,80],
            header: {
                values: headerVals,
                align: "center",
                line: {width: 1, color: 'rgb(50, 50, 50)'},
                fill: {color: ['rgba(0, 114, 178, 1)']},
                font: {family: "Arial", size: 11, color: "white"}
            },
            cells: {
                values: cellVals,
                align: ["center", "center"],
                line: {color: "black", width: 1},
                fill: {color: ['rgba(86, 180, 233, 0.65)','rgba(86, 180, 233, 0.65)','rgba(86, 180, 233, 0.65)','rgba(0, 158, 115, 1)']},
                font: {family: "Arial", size: 10, color: ["black"]}
            }
        }]

        var layout = {
            title: "Cholera in London: Attacks and Deaths",
            height: 1000,
            width: 700,
        }

        Plotly.plot('graph01', data, layout);
    });

</script>

<!-- Chart 02 -->
<script>
    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/cholera/master/Cholera/choleraDeaths.csv?token=Acozul-aF5x8qVd3mr8r4SN9lLz7Wgonks5bqVr8wA%3D%3D", function(err, rows){
        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]) + parseInt(cellVals[2][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);
        var yVal = [];

        for (j = 0; j < cellVals[i].length; j++) {
            yVal.push(parseInt(cellVals[1][j]));
        }

        var numAttacks = {
            x: cellVals[0],
            y: yVal,
            type: 'scatter',
            name: "Number of Attacks",
            line: {
                color: 'rgb(0,0,0)',
                width: 3
            }
        }

        yVal = [];

        for (j = 0; j < cellVals[i].length; j++) {
            yVal.push(parseInt(cellVals[2][j]));
        }

        var numDeaths = {
            x: cellVals[0],
            y: yVal,
            type: 'scatter',
            name: "Number of Deaths",
            line: {
                color: 'rgb(150, 150, 150)'
            }
        }

        var runningCount = 0;
        var runningCountArr = [];

        for (j = 0; j < cellVals[i].length; j++) {
            runningCount += parseInt(cellVals[1][j]);
            runningCountArr.push(runningCount);
        }

        var totalAttacks = {
            x: cellVals[0],
            y: runningCountArr,
            type: 'scatter',
            name: "Total Amount of Attacks",
            line: {
                color: 'rgba(240, 228, 66, 1)',
                weight: 3
            }
        }

        runningCount = 0;
        runningCountArr = [];

        for (j = 0; j < cellVals[i].length; j++) {
            runningCount += parseInt(cellVals[2][j]);
            runningCountArr.push(runningCount);
        }

        var totalDeaths = {
            x: cellVals[0],
            y: runningCountArr,
            type: 'scatter',
            name: "Total Amount of Deaths",
            line: {
                color: 'rgba(0, 158, 115, 1)',
                weight: 3
            }
        }

        var layout = {
            title: 'Cholera Attacks and Deaths',
            xaxis: {
            },
            yaxis: {
                title: 'Number of People'
            },
            height: screen.height,
            width: screen.width,
        }

        var data = [numAttacks, numDeaths, totalAttacks, totalDeaths];

        Plotly.newPlot('graph02', data, layout);

    });

</script>

<!-- Chart 03 -->
<script>

    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/cholera/master/Cholera/naplesCholeraAgeSexData.csv?token=Acozuh_lRoh4ezhiRaaWZmMv8uU8yW6Fks5bqfF8wA%3D%3D", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]) + parseInt(cellVals[2][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);
        headerVals[headerRow.length] = "Total";

        var data = [{
            type: 'table',
            columnwidth: [80,80,80,80],
            header: {
                values: headerVals,
                align: "center",
                line: {width: 1, color: 'rgb(50, 50, 50)'},
                fill: {color: ['rgba(0, 114, 178, 1)']},
                font: {family: "Arial", size: 11, color: "white"}
            },
            cells: {
                values: cellVals,
                align: ["center", "center"],
                line: {color: "black", width: 1},
                fill: {color: ['rgba(86, 180, 233, 0.65)','rgba(86, 180, 233, 0.65)','rgba(86, 180, 233, 0.65)','rgba(0, 158, 115, 1)']},
                font: {family: "Arial", size: 10, color: ["black"]}
            }
        }]

        var layout = {
            title: "Fatalities by Age and Sex",
//            height: 1000,
            width: 700,
        }

        Plotly.plot('graph03', data, layout);
    });

</script>

<!-- Chart 04 -->
<script>

    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/cholera/master/Cholera/naplesCholeraAgeSexData.csv?token=Acozuh_lRoh4ezhiRaaWZmMv8uU8yW6Fks5bqfF8wA%3D%3D", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]) + parseInt(cellVals[2][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);

        var data = [
            {
                x: cellVals[0],
                y: cellVals[1],
                type: 'bar',
                marker: {
                    color: 'rgba(86, 180, 233, 0.85)'
                }
            }
        ];

        var layout = {
            title: "Male Fatalities by Age",
            height: 1000,
            width: 700,
            xaxis: { title: 'Age (years)'},
            yaxis: { title: 'Number of People'}
        }

        Plotly.newPlot('graph04', data, layout);
    });

</script>

<!-- Chart 05 -->
<script>

    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/cholera/master/Cholera/naplesCholeraAgeSexData.csv?token=Acozuh_lRoh4ezhiRaaWZmMv8uU8yW6Fks5bqfF8wA%3D%3D", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]) + parseInt(cellVals[2][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);

        var data = [
            {
                x: cellVals[0],
                y: cellVals[2],
                type: 'bar',
                marker: {color: 'rgba(0, 158, 115, .85)'}
            }
        ];

        var layout = {
            title: "Female Fatalities by Age",
            height: 1000,
            width: 700,
            xaxis: {title: 'Age (years)'},
            yaxis: {title: 'Number of Women'}
        }

        Plotly.newPlot('graph05', data, layout);
    });

</script>

<!-- Chart 06 -->
<script>

    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/cholera/master/Cholera/UKcensus1851.csv?token=AcozusL9Dyf_0UArexDlOpLpaTGdr69dks5bqlS5wA%3D%3D", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]) + parseInt(cellVals[2][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);
        headerVals[headerRow.length] = "Total";

        var data = [{
            type: 'table',
            columnwidth: [80,80,80,80],
            header: {
                values: headerVals,
                align: "center",
                line: {width: 1, color: 'rgb(50, 50, 50)'},
                fill: {color: ['rgba(0, 114, 178, 1)']},
                font: {family: "Arial", size: 11, color: "white"}
            },
            cells: {
                values: cellVals,
                align: ["center", "center"],
                line: {color: "black", width: 1},
                fill: {color: ['rgba(86, 180, 233, 0.65)','rgba(86, 180, 233, 0.65)','rgba(86, 180, 233, 0.65)','rgba(0, 158, 115, 1)']},
                font: {family: "Arial", size: 10, color: ["black"]}
            }
        }]

        var layout = {
            title: "Census Data: Men and Women in the UK, 1851",
//            height: 1000,
            width: 700,
        }

        Plotly.plot('graph06', data, layout);
    });
</script>

<!-- Chart 07 -->

<!-- Chart 08 -->

<!-- Chart 09 -->
<script>

    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/cholera/master/Cholera/UKcensus1851.csv?token=AcozusL9Dyf_0UArexDlOpLpaTGdr69dks5bqlS5wA%3D%3D", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]) + parseInt(cellVals[2][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);

        var data = [
            {
                x: cellVals[0],
                y: cellVals[1],
                type: 'bar',
                marker: {
                    color: 'rgba(86, 180, 233, 0.85)'
                }
            }
        ];

        var layout = {
            title: "Male Census Data in UK 1851",
            height: 1000,
            width: 700,
            xaxis: {title: 'Age Group (Years)'},
            yaxis: {title: 'Number of Men'}
        }

        Plotly.newPlot('graph09', data, layout);
    });

</script>

<!-- Chart 10 -->
<script>

    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/cholera/master/Cholera/UKcensus1851.csv?token=AcozusL9Dyf_0UArexDlOpLpaTGdr69dks5bqlS5wA%3D%3D", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]) + parseInt(cellVals[2][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);

        var data = [
            {
                x: cellVals[0],
                y: cellVals[2],
                type: 'bar',
                marker: {color: 'rgba(0, 158, 115, .85)'}
            }
        ];

        var layout = {
            title: "Female Census Data in UK 1851",
            height: 1000,
            width: 700,
            xaxis: {title: 'Age Group (Years)'},
            yaxis: {title: 'Number of Women'}
        }

        Plotly.newPlot('graph10', data, layout);
    });

</script>

<!-- Chart 11 -->
<script>

    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/cholera/master/Cholera/UKcensus1851.csv?token=AcozusL9Dyf_0UArexDlOpLpaTGdr69dks5bqlS5wA%3D%3D", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]) + parseInt(cellVals[2][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);

        var sex = [];
        var men = 0;
        var women = 0;

        // Total up the men & women
        for (i = 0; i < cellVals[1].length; i++) {
            men += parseInt(cellVals[1][i]);
            women += parseInt(cellVals[2][i]);
        }

        sex.push(men);
        sex.push(women);

        colorArr: ['rgba(0, 158, 115, .75)', 'rgba(0, 114, 178, .75)'];

        var data = [
            {
                values: sex,
                labels: ['Men', 'Women'],
                type: 'pie',
                marker: { colors: ['rgba(10,168,125, .50)', 'rgba(10, 124, 188, .50)']}
            }
        ];

        var layout = {
            title: "Total Men versus Women in the UK, 1851",
            height: 1000,
            width: 700,
        }

        Plotly.newPlot('graph11', data, layout);
    });

</script>

<!-- Chart 12 -->


</html>